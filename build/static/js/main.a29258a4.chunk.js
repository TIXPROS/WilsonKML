(this.webpackJsonpwilson_kml=this.webpackJsonpwilson_kml||[]).push([[0],{103:function(t,i,e){},120:function(t,i){},122:function(t,i){},138:function(t,i,e){},139:function(t,i,e){"use strict";e.r(i);var n=e(0),r=e.n(n),a=e(8),u=e.n(a),o=(e(103),e(42)),s=e(43),h=e(50),c=e(49),d=e(25),l=e.n(d),m=e(51),f=e(166),p=e(170),w=e(171),b=e(172),g=e(175),v=e(173),P=e(174);function O(t){var i;i=x.find((function(i){return i.id===t}));try{return i.name}catch(e){return!1}}function j(t){var i;i=x.find((function(i){return i.id===t}));try{return i.unit}catch(e){return!1}}var x=[{id:"PPPP",name:"Surface pressure, reduced",unit:"Pa"},{id:"E_PPP",name:"Absolute error surface pressure",unit:"Pa"},{id:"TX",name:"Max. temperature - within the last 12 hours",unit:"Kelvin"},{id:"TTT",name:"Temperature 2m above surface",unit:"Kelvin"},{id:"E_TTT",name:"Absolute error temperature 2m above surface",unit:"Kelvin"},{id:"Td",name:"Dewpoint 2m above surface",unit:"Kelvin"},{id:"E_Td",name:"Absolute error dew point 2m above surface",unit:"Kelvin"},{id:"TN",name:"Min. temperature - within the last 12 hours",unit:"Kelvin"},{id:"TG",name:"Min. surface temperature at 5cm within the last 12 hours",unit:"Kelvin"},{id:"TM",name:"Mean temperature during the last 24 hours",unit:"Kelvin"},{id:"T5cm",name:"Temperature 5cm above surface",unit:"Kelvin"},{id:"DD",name:"Wind direction",unit:"0 bis 360 Grad"},{id:"E_DD",name:"Absolute error wind direction",unit:"00 bis 360"},{id:"FF",name:"Wind speed",unit:"m/s"},{id:"E_FF",name:"Absolute error wind speed 10m above surface",unit:"m/s"},{id:"FX1",name:"Max. wind gust within the last hour",unit:"m/s"},{id:"FX3",name:"Max. wind gust within the last 3 hours",unit:"m/s"},{id:"FX625",name:"Prob. : Occur. of gusts >= 25kn within the last 6 hours",unit:"% (0..100)"},{id:"FX640",name:"Prob. : Occur. of gusts >= 40kn within the last 6 hours",unit:"% (0..100)"},{id:"FX655",name:"Prob. : Occur. of gusts >= 55kn within the last 6 hours",unit:"% (0..100)"},{id:"FXh",name:"Max. wind gust within the last 12 hours",unit:"m/s"},{id:"FXh25",name:"Prob. of wind gusts >= 25kn within the last 12 hours",unit:"% (0..100)"},{id:"FXh40",name:"Prob. of wind gusts >= 40kn within the last 12 hours",unit:"% (0..100)"},{id:"FXh55",name:"Prob. of wind gusts >= 55kn within the last 12 hours",unit:"% (0..100)"},{id:"N",name:"Total cloud cover",unit:"% (0..100)"},{id:"Neff",name:"Effective cloud cover",unit:"% (0..100)"},{id:"Nh",name:"High cloud cover (>7 km)",unit:"% (0..100)"},{id:"Nm",name:"Midlevel cloud cover (2-7 km)",unit:"% (0..100)"},{id:"Nl",name:"Low cloud cover (lower than 2 km)",unit:"% (0..100)"},{id:"N05",name:"Cloud cover below 500 ft.",unit:"% (0..100)"},{id:"VV",name:"Visibility",unit:"m"},{id:"VV10",name:"Prob. : Visibility below 1000m",unit:"% (0..100)"},{id:"wwM",name:"Prob. for fog within the last hour",unit:"% (0..100)"},{id:"wwM6",name:"Prob. for fog within the last 6 hours",unit:"% (0..100)"},{id:"wwMh",name:"Prob. for fog within the last 12 hours",unit:"% (0..100)"},{id:"wwMd",name:"Prob. : Occur. of fog within the last 24 hours",unit:"% (0..100)"},{id:"ww",name:"Significant Weather",unit:"-"},{id:"ww3",name:"Significant Weather of the last 3 hours",unit:"- (0..95)"},{id:"W1W2",name:"Past weather during the last 6 hours",unit:"-"},{id:"wwP",name:"Prob. : Occur. of precip. within the last hour",unit:"% (0..100)"},{id:"wwP6",name:"Prob. : Occur. of precip. within the last 6 hours",unit:"% (0..100)"},{id:"wwPh",name:"Prob. : Occur. of precip. within the last 12 hours",unit:"% (0..100)"},{id:"wwPd",name:"Prob. : Occur. of any precip. within the last 24 hours",unit:"% (0..100)"},{id:"wwZ",name:"Prob. : Occur. of drizzle within the last hour",unit:"% (0..100)"},{id:"wwZ6",name:"Prob. : Occur. of drizzle within the last 6 hours",unit:"% (0..100)"},{id:"wwZh",name:"Prob. : Occur. of drizzle within the last 12 hours",unit:"% (0..100)"},{id:"wwD",name:"Prob. : Occur. of stratiform precip. within the last hour",unit:"% (0..100)"},{id:"wwD6",name:"Prob. : Occur. of stratiform precip. within the last 6 hours",unit:"% (0..100)"},{id:"wwDh",name:"Prob. : Occur. of stratiform precip. within the last 12 hours",unit:"% (0..100)"},{id:"wwC",name:"Prob. : Occur. of convective precip. within the last hour",unit:"% (0..100)"},{id:"wwC6",name:"Prob. : Occur. of convective precip. within the last 6 hours",unit:"% (0..100)"},{id:"wwCh",name:"Prob. : Occur. of convective precip. within the last 12 hours",unit:"% (0..100)"},{id:"wwT",name:"Prob. : Occur. of thunderstorms within the last hour",unit:"% (0..100)"},{id:"wwT6",name:"Prob. : Occur. of thunderstorms within the last 6 hours",unit:"% (0..100)"},{id:"wwTh",name:"Prob. : Occur. of thunderstorms within the last 12 hours",unit:"% (0..100)"},{id:"wwTd",name:"Prob. : Occur. of thunderstorms within the last 24 hours ",unit:"% (0..100)"},{id:"wwS",name:"Prob. : Occur. of solid precip. within the last hour",unit:"% (0..100)"},{id:"wwS6",name:"Prob. : Occur. of solid precip. within the last 6 hours",unit:"% (0..100)"},{id:"wwSh",name:"Prob. : Occur. of solid precip. within the last 12 hours",unit:"% (0..100)"},{id:"wwL",name:"Prob. : Occur. of liquid precip. within the last hour",unit:"% (0..100)"},{id:"wwL6",name:"Prob. : Occur. of liquid precip. within the last 6 hours",unit:"% (0..100)"},{id:"wwLh",name:"Prob. : Occur. of liquid precip. within the last 12 hours",unit:"% (0..100)"},{id:"wwF",name:"Prob. : Occur. of freezing rain within the last hour",unit:"% (0..100)"},{id:"wwF6",name:"Prob. : Occur. of freezing rain within the last 6 hours",unit:"% (0..100)"},{id:"wwFh",name:"Prob. : Occur. of freezing rain within the last 12 hours",unit:"% (0..100)"},{id:"DRR1",name:"Duration of precip. within the last hour",unit:"s"},{id:"RR6c",name:"Total precip. during the last 6 hours consistent with significant weather",unit:"kg / m2"},{id:"RRhc",name:"Total precip. during the last 12 hours consistent with significant weather",unit:"kg / m2"},{id:"RRdc",name:"Total precip. during the last 24 hours consistent with significant weather",unit:"kg / m2"},{id:"RR1c",name:"Total precip. during the last hour consistent with significant weather",unit:"kg / m2"},{id:"RRS1c",name:"Snow-Rain-Equivalent during the last hour",unit:"kg / m2"},{id:"RRL1c",name:"Total liquid precip. during the last hour consistent with significant weather",unit:"kg / m2"},{id:"RR3c",name:"Total precip. during the last 3 hours consistent with significant weather",unit:"kg / m2"},{id:"RRS3c",name:"Snow-Rain-Equivalent during the last 3 hours",unit:"kg/m2"},{id:"R101",name:"Prob. of precip. > 0.1 mm during the last hour",unit:"% (0..100)"},{id:"R102",name:"Prob. of precip. > 0.2 mm during the last hour",unit:"% (0..100)"},{id:"R103",name:"Prob. of precip. > 0.3 mm during the last hour",unit:"% (0..100)"},{id:"R105",name:"Prob. of precip. > 0.5 mm during the last hour",unit:"% (0..100)"},{id:"R107",name:"Prob. of precip. > 0.7 mm during the last hour",unit:"% (0..100)"},{id:"R110",name:"Prob. of precip. > 1.0 mm during the last hour",unit:"% (0..100)"},{id:"R120",name:"Prob. of precip. > 2.0 mm during the last hour",unit:"% (0..100)"},{id:"R130",name:"Prob. of precip. > 3.0 mm during the last hour",unit:"% (0..100)"},{id:"R150",name:"Prob. of precip. > 5.0 mm during the last hour",unit:"% (0..100)"},{id:"RR1o1",name:"Prob. of precip. > 10 mm during the last hour",unit:"% (0..100)"},{id:"RR1w1",name:"Prob. of precip. > 15 mm during the last hour",unit:"% (0..100)"},{id:"RR1u1",name:"Prob. of precip. > 25 mm during the last hour",unit:"% (0..100)"},{id:"R600",name:"Prob. of precip. > 0.0mm during the last 6 hours",unit:"% (0..100)"},{id:"R602",name:"Prob. of precip. > 0.2mm during the last 6 hours",unit:"% (0..100)"},{id:"R610",name:"Prob. of precip. > 1.0 mm during the last 6 hours",unit:"% (0..100)"},{id:"R650",name:"Prob. of precip. > 5.0mm during the last 6 hours",unit:"% (0..100)"},{id:"Rh00",name:"Prob. of precip. > 0.0mm during the last 12 hours",unit:"% (0..100)"},{id:"Rh02",name:"Prob. of precip. > 0.2mm during the last 12 hours",unit:"% (0..100)"},{id:"Rh10",name:"Prob. of precip. > 1.0mm during the last 12 hours",unit:"% (0..100)"},{id:"Rh50",name:"Prob. of precip. > 5.0mm during the last 12 hours",unit:"% (0..100)"},{id:"SunD",name:"Yesterdays total sunshine duration",unit:"s"},{id:"RSunD",name:"Relative sunshine duration within the last 24 hours",unit:"% (0..100)"},{id:"PSd00",name:"Prob. : relative sunshine duration > 0 % within 24 hours",unit:"% (0..100)"},{id:"PSd30",name:"Prob. : relative sunshine duration > 30 % within 24 hours",unit:"% (0..100)"},{id:"PSd60",name:"Prob. : relative sunshine duration > 60 % within 24 hours",unit:"% (0..100)"},{id:"RRad1",name:"Global irradiance within the last hour",unit:"% (0..80)"},{id:"Rad1h",name:"Global Irradiance",unit:"kJ/m2"},{id:"SunD1",name:"Sunshine duration during the last Hour",unit:"s"},{id:"SunD3",name:"Sunshine duration during the last three hours",unit:"s/s"},{id:"PEvap",name:"Potential evapotranspiration within the last 24 hours",unit:"kg / m2"},{id:"WPc11",name:"Optional significant weather (highest priority) during the last hour",unit:"- (0..95)"},{id:"WPc31",name:"Optional significant weather (highest priority) during the last 3 hours",unit:"- (0..95)"},{id:"WPc61",name:"Optional significant weather (highest priority) during the last 6 hours",unit:"- (0..95)"},{id:"WPch1",name:"Optional significant weather (highest priority) during the last 12 hours",unit:"- (0..95)"},{id:"WPcd1",name:"Optional significant weather (highest priority) during the last 24 hours",unit:"- (0..95)"}],R=e(105),k=function(t){try{var i=[];return R.parseString(t,(function(t,e){var n=e["kml:kml"]["kml:Document"][0]["kml:ExtendedData"][0]["dwd:ProductDefinition"][0]["dwd:ForecastTimeSteps"][0]["dwd:TimeStep"],r=e["kml:kml"]["kml:Document"][0]["kml:Placemark"][0]["kml:ExtendedData"][0]["dwd:Forecast"],a=[];r.forEach((function(t){var i=t["dwd:value"][0].split(/\s+/).filter((function(t){return""!==t}));a.push([t.$["dwd:elementName"],i])})),n.forEach((function(t,e){var n={},r={};n.date=t,a.forEach((function(t){r[t[0]]=t[1][e]})),n.values=r,i.push(n)}))})),i}catch(e){return console.log(e),alert("Le fichier choisi est incompatible"),!1}},y=e(5),T=["All","Wind","Wind speed threshold","Wind gusts 1h","Wind gusts 3h","Temperature","Visibility"],S=function(t){Object(h.a)(e,t);var i=Object(c.a)(e);function e(t){var n;return Object(o.a)(this,e),(n=i.call(this,t)).showFile=function(){var t=Object(m.a)(l.a.mark((function t(i){var e;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i.preventDefault(),(e=new FileReader).onload=function(){var t=Object(m.a)(l.a.mark((function t(i){var e,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=i.target.result,(r=k(e))?n.setState({data:r,filed:!0}):n.setState({filed:!1});case 3:case"end":return t.stop()}}),t)})));return function(i){return t.apply(this,arguments)}}(),i.target.files[0]&&e.readAsText(i.target.files[0]);case 4:case"end":return t.stop()}}),t)})));return function(i){return t.apply(this,arguments)}}(),n.state={filed:!1,data:[],days:[],finale:[],keys:[],loading:!1},n}return Object(s.a)(e,[{key:"range",value:function(){var t=Object(m.a)(l.a.mark((function t(){var i,e,n=this;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){return setTimeout(t,3e3)}));case 2:i=[],e=[],this.state.data.forEach((function(t){if(-1===i.indexOf(t.date.split("T")[0])){var e=t.date.split("T")[0];i.push(e)}})),this.setState({days:i},(function(){i.forEach((function(t){var i=n.state.data.filter((function(i){return i.date.split("T")[0]===t})),r={};r.date=t,r.values=i,e.push(r)})),n.setState({finale:e,keys:Object.keys(e[0].values[0].values),loading:!1},(function(){}))}));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this;return Object(y.jsxs)("div",{children:[Object(y.jsx)(f.a,{variant:"h3",component:"h2",children:"Convertisseur Kml to JS"}),Object(y.jsx)(p.a,{type:"file",onChange:function(i){return t.showFile(i)},inputProps:{accept:".xml,.kml"},style:{marginTop:20}}),Object(y.jsx)("br",{}),Object(y.jsx)(w.a,{title:"Valider",onClick:function(){t.state.filed?t.setState({loading:!0},(function(){t.range()})):alert("Veuillez choisir un fichier \xe0 convertir")},color:"primary",variant:"contained",style:{marginTop:10},children:"Valider"}),Object(y.jsx)("div",{children:this.state.loading&&Object(y.jsx)(b.a,{color:"secondary",style:{marginTop:15}})}),Object(y.jsxs)("div",{children:[this.state.finale.length>0&&this.state.filed&&Object(y.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(y.jsxs)("div",{style:F.selector,children:[Object(y.jsx)(g.a,{id:"label",children:"Location"}),Object(y.jsx)(v.a,{labelId:"label",id:"select",value:"EBBR",children:Object(y.jsx)(P.a,{value:"EBBR",children:"EBBR"})})]}),Object(y.jsxs)("div",{style:F.selector,children:[Object(y.jsx)(g.a,{id:"label",children:"Parameter group"}),Object(y.jsx)(v.a,{labelId:"label",id:"select",value:"All",children:T.map((function(t,i){return Object(y.jsx)(P.a,{value:t,children:t},i)}))})]})]}),Object(y.jsx)("div",{children:Object(y.jsxs)("table",{children:[Object(y.jsx)("thead",{children:Object(y.jsxs)("tr",{children:[this.state.finale.length>0&&this.state.filed&&Object(y.jsx)("th",{style:{top:0}}),this.state.finale.map((function(t){return t.values.map((function(i,e){return Object(y.jsxs)("th",{style:{top:0},children:[t.date.slice(8,10),Object(y.jsx)("br",{}),i.date.split("T")[1].slice(0,2)+"Z"]},e)}))}))]})}),Object(y.jsx)("tbody",{children:this.state.keys.map((function(i,e){return Object(y.jsxs)("tr",{children:[Object(y.jsx)("td",{style:{fontWeight:"bold",color:"#fff",backgroundColor:"#1a8cff",left:0,position:"sticky"},children:!1===O(i)?i:O(i)+"\n("+j(i)+")"}),t.state.finale.map((function(t){return t.values.map((function(t,e){return Object(y.jsx)("td",{children:"-"===t.values[i]?"N/A":t.values[i]},e)}))}))]},e)}))})]})})]})]})}}]),e}(n.Component),F={selector:{displey:"flex",flexDirection:"row",margin:15}},D=S,E=(e(138),function(t){Object(h.a)(e,t);var i=Object(c.a)(e);function e(){return Object(o.a)(this,e),i.apply(this,arguments)}return Object(s.a)(e,[{key:"render",value:function(){return Object(y.jsxs)("div",{className:"App",children:[Object(y.jsx)(D,{}),Object(y.jsx)("div",{children:Object(y.jsxs)(f.a,{variant:"body2",children:["powered by ",Object(y.jsx)("a",{href:"https://tixpros.pro/",rel:"noreferrer",target:"_blank",children:"TixPros"})," - Version 1.0"]})})]})}}]),e}(n.Component)),W=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,177)).then((function(i){var e=i.getCLS,n=i.getFID,r=i.getFCP,a=i.getLCP,u=i.getTTFB;e(t),n(t),r(t),a(t),u(t)}))};u.a.render(Object(y.jsx)(r.a.StrictMode,{children:Object(y.jsx)(E,{})}),document.getElementById("root")),W()}},[[139,1,2]]]);
//# sourceMappingURL=main.a29258a4.chunk.js.map